(this.webpackJsonpr6_strat_maker=this.webpackJsonpr6_strat_maker||[]).push([[0],{11:function(e,t,a){e.exports=a(50)},16:function(e,t,a){},17:function(e,t,a){},44:function(e,t){},45:function(e,t){},46:function(e,t){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(3),r=a.n(c),o=(a(16),a(5)),l=(a(17),a(10)),s=a.n(l),b=a(39).fabric,u=a(47),f=a(48),v=new u.Reactor({debug:!0}),d=function(e){var t,a={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(a[t]=t);return a}({fabricData:null,activeObject:null}),m=new b.Canvas,h=u.Store({getInitialState:function(){return u.toImmutable({fabricData:{objects:[]},activeObject:!1})},initialize:function(){this.on(d.fabricData,this.saveFabricData),this.on(d.activeObject,this.saveActiveObject)},saveFabricData:function(e,t){return e.set("fabricData",u.toImmutable(t))},saveActiveObject:function(e,t){return e.set("activeObject",t)}});v.registerStores({fabricStore:h});var g=f({displayName:"Fabric",componentDidMount:function(){var e=r.a.findDOMNode(this);m.initialize(e,{height:.75*window.innerHeight,width:window.innerWidth-150,backgroundColor:null}),m.on("mouse:up",(function(){v.dispatch(d.fabricData,m.toObject()),v.dispatch(d.activeObject,!!m.getActiveObject())})),m.on("saveData",(function(){v.dispatch(d.fabricData,m.toObject()),v.dispatch(d.activeObject,!!m.getActiveObject()),m.renderAll()}))},render:function(){return i.a.createElement("canvas",null)}}),j=f({displayName:"NewObjects",mixins:[v.ReactMixin],getDataBindings:function(){return{fabricData:["fabricStore","fabricData"],activeObject:["fabricStore","activeObject"]}},render:function(){return this.state.fabricData.get("objects").size,i.a.createElement("div",{style:{float:"right"}},i.a.createElement("br",null),i.a.createElement("button",{onClick:this.addSquare,style:{position:"relative"}},"Add Square"),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.remove,style:{position:"relative"}},"Remove"))},addSquare:function(){var e="#"+((1<<24)*Math.random()|0).toString(16),t=new b.Rect({height:50,width:50,originX:"center",originY:"center",fill:e,borderColor:"#000",opacity:".4",top:m.height/2,left:m.width/2});m.add(t),m.setActiveObject(t),m.fire("saveData")},remove:function(){m.remove(m.getActiveObject()),m.fire("saveData")}}),O=f({displayName:"ActiveObject",mixins:[v.ReactMixin],getDataBindings:function(){return{fabricObject:["fabricStore","fabricData","objects",0],activeObject:["fabricStore","activeObject"]}},render:function(){if(console.log(m.getActiveObject()),this.state.fabricObject){var e=this.state.fabricObject.get("fill");return console.log(m.getObjects()),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("b",null,"Active Object")),i.a.createElement("div",null,"fill: ",i.a.createElement("span",{style:{color:e}},this.state.fabricObject.get("fill"))),i.a.createElement("div",null,"top: ",this.state.fabricObject.get("top")),i.a.createElement("div",null,"left: ",this.state.fabricObject.get("left")),i.a.createElement("div",null,"angle: ",this.state.fabricObject.get("angle")),i.a.createElement("div",null,"scaleX: ",this.state.fabricObject.get("scaleX")),i.a.createElement("div",null,"scaleY: ",this.state.fabricObject.get("scaleY")))}return console.log(m.getActiveObject()),null}});var p=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),l=Object(o.a)(r,2);return l[0],l[1],i.a.createElement("div",{className:"App"},i.a.createElement("div",{style:{float:"right",position:"relative"}},i.a.createElement(O,null),i.a.createElement(j,null)),i.a.createElement("input",{type:"file",onChange:function(e){c(URL.createObjectURL(e.target.files[0]))}}),i.a.createElement(s.a,{url:a,width:"75%",height:"75%",controls:!1,style:{position:"absolute"}}),i.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.cb08b07f.chunk.js.map